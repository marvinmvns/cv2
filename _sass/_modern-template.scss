// Modern, unique, innovative visual layer
// Keeps site palette via Bootstrap variables from _sass/_variables.scss

// Design tokens mapped from existing palette
:root {
  --brand-primary: #{$primary};
  --brand-accent: #{$indigo};
  --brand-surface: #{$light};
  --brand-text: #{$gray-800};
  --brand-muted: #{$gray-600};
}

// Dark mode surface mapping
[data-theme="dark"] {
  --brand-surface: #{$gray-900};
  --brand-text: #{$gray-100};
  --brand-muted: #{$gray-400};
}

html, body {
  background: linear-gradient(135deg, rgba($primary, .08), rgba($indigo, .08)) fixed;
}

// Wrapper with subtle glassmorphism and decorative shapes
.resume-wrapper {
  position: relative;
  isolation: isolate;
}

.resume-wrapper-inner {
  border-radius: 18px;
  background: rgba(255,255,255,0.72);
  box-shadow: 0 10px 30px rgba(0,0,0,0.08), 0 2px 10px rgba(0,0,0,0.04);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: transform .3s ease, box-shadow .3s ease;
}

[data-theme="dark"] .resume-wrapper-inner {
  background: rgba(32,33,36, 0.65);
}

.resume-wrapper::before,
.resume-wrapper::after {
  content: "";
  position: absolute;
  inset: auto auto -60px -60px;
  width: 220px;
  height: 220px;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba($primary, .25), transparent 60%);
  filter: blur(10px);
  z-index: -1;
}

.resume-wrapper::after {
  inset: -60px -60px auto auto;
  background: radial-gradient(ellipse at center, rgba($indigo, .22), transparent 60%);
}

// Header
.resume-header {
  padding: 1.75rem 0;
  background: linear-gradient(180deg, rgba($primary, .06), rgba($primary, 0));
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
}

.name {
  color: var(--brand-text);
  font-weight: 700;
  letter-spacing: .2px;
}

.title {
  color: var(--brand-muted);
}

// Profile picture
img.picture {
  width: 160px;
  height: 160px;
  object-fit: cover;
  border-radius: 50%;
  border: 4px solid rgba($white, .85);
  box-shadow: 0 8px 24px rgba(0,0,0,.12);
  transition: transform .25s ease, box-shadow .25s ease;
}

[data-theme="dark"] img.picture {
  border-color: rgba(255,255,255,.15);
}

img.picture:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 14px 32px rgba(0,0,0,.18);
}

// Section titles
.resume-section-title {
  font-weight: 700;
  margin-bottom: 1rem;
  background: linear-gradient(90deg, var(--brand-primary), var(--brand-accent));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

// Timeline items
.resume-timeline-item {
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 14px;
  padding: 1rem 1.25rem;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  background: rgba(255,255,255,.9);
}

[data-theme="dark"] .resume-timeline-item {
  background: rgba(32,33,36,.65);
  border-color: rgba(255,255,255,.08);
}

.resume-timeline-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(0,0,0,.12);
  border-color: rgba($primary, .25);
}

// Badges with subtle gradient outline
.badge.badge-primary,
.badge.bg-primary,
.badge-primary {
  background: linear-gradient(135deg, rgba($primary, .95), rgba($indigo, .95));
  box-shadow: 0 2px 8px rgba($primary, .25);
}

// Theme toggle control
.theme-toggle-container {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 1030;
}

.theme-toggle {
  border: none;
  background: rgba(255,255,255,.9);
  border-radius: 999px;
  padding: .35rem;
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
  transition: transform .2s ease, box-shadow .2s ease;
}

[data-theme="dark"] .theme-toggle {
  background: rgba(32,33,36,.85);
}

.theme-toggle:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(0,0,0,.16);
}

.theme-toggle-track {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 46px;
  height: 28px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba($primary,.15), rgba($indigo,.15));
}

.theme-toggle-thumb {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
  color: var(--brand-text);
}

.sun-icon { color: $yellow; }
.moon-icon { color: $indigo; }

// Footer style polish
.footer-modern {
  border-top: 1px solid rgba(0,0,0,.06);
  color: var(--brand-muted);
}

// Subtle fade+lift entrance for sections (pairs with JS .visible class)
.resume-section, .resume-timeline-item, .resume-skill-item, .summary-highlights .highlight-item, .badge {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .5s ease, transform .5s ease;
}

// When elements become visible via IntersectionObserver or static markup
.resume-section.visible,
.resume-timeline-item.visible,
.resume-skill-item.visible,
.summary-highlights .highlight-item.visible,
.badge.visible {
  opacity: 1;
  transform: translateY(0);
}
